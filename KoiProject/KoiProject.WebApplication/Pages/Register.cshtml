@page
@model RegisterModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Animated Login Form | CODE THANH NGUYEN</title>
    <link rel="stylesheet" href="/css/loginForm/style.css" />
    <link rel="stylesheet" href="/css/loginForm/Style2.css" />
</head>

<body>
    <section>
        <div class="login-box">
            <form method="post">
                <!-- Thêm validation summary -->
                <div asp-validation-summary="All" class="text-danger"></div>

                <h2>Registration</h2>

                <div class="input-box">
                    <span class="icon"><ion-icon name="mail"></ion-icon> </span>
                    <input asp-for="Email" type="text" required>
                    <label> Email</label>
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <div class="input-box">
                    <span class="icon"><ion-icon name="person"></ion-icon> </span>
                    <input asp-for="Username" type="text" required>
                    <label> Username</label>
                    <span asp-validation-for="Username" class="text-danger"></span>
                </div>

                <div class="input-box">
                    <span class="icon"><ion-icon name="lock-closed"></ion-icon> </span>
                    <input asp-for="Password" type="password" required>
                    <label> Password</label>
                    <span asp-validation-for="Password" class="text-danger"></span>
                </div>

                <div class="checkbox">
                    <input type="checkbox" class="color" id="agree_terms" required>
                    I agree to the terms & conditions
                </div><br>
                <p id="message" style="color: red;"></p> <!-- Thông báo lỗi từ hàm validateForm -->
                @if (TempData["SignUpError"] != null)

                {
                    <div class="alert alert-danger mt-3">
                        @TempData["SignUpError"]
                    </div>
                }


                <button type="submit">Register</button>

                <div class="register-link">
                    <p>
                        Already have an account?
                        <a asp-page="/Login">Login</a>
                    </p>
                </div>

            </form>
            <script>
                function validateForm() {
                    const messageElem = document.getElementById('message');
                    const username = document.getElementById('Username').value;
                    const email = document.getElementById('email').value;
                    const password = document.getElementById('password').value;
                    const agreeTerms = document.getElementById('agree_terms').checked;
if (!username) {
                        messageElem.innerText = "Please enter your username!";
                        return false;
                    }

                    if (!email) {
                        messageElem.innerText = "Please enter your email!";
                        return false;
                    }

                    if (!password) {
                        messageElem.innerText = "Please enter your password!";
                        return false;
                    }

                    if (!agreeTerms) {
                        messageElem.innerText = "Please agree to the registration terms.";
                        return false;
                    }

                    return true;
                }
                        </div >
                    </section >

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>

</html>